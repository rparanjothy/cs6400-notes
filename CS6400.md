# CS6400

## Exam 1

Chapters 1,2,3,4

```Topic Textbook chapter readings	Lectures
Exam 1	Intro, ER, EER	1, 2, 3 (except 3.8), 4 (except 4.6)
Course overview

Fundamentals of Databases

Extended Entity-Relationship Model
```

## Fundamentals of DB

- Fundamentals of databases
  - Examine or manage part of real world
  - model of reality
  - Model is a means of communication
  - Emphasis certail selected aspects
  - Described in some language
  - can be errors
  - may have features that does not exist in reality
- When to use a DB management system

  - Support data intensive apps (some are process intensive - compute)
  - persist storage
  - centralized control of data
  - control redundancy
  - control consistency and integrity
  - multi user support
  - Share data
  - data documentation
  - data independence - Change DB w/o impacting UI
  - access and security
  - backup and recovery

- WHEN NOT TO USE:

  - high initial investment, h/w, s/w, training is too high
  - generality is not needed - Eg. overhead of security concurrency, recovery
  - data is simple and stable
  - realtime requirements cannot be met
  - multi user access is not needed

- Outline of major topics

  - Data modeling
  - process modeling
  - database efficiency

- Data modeling
  - repr. perception of sturctures of reality
  - select and abstract
  - DML inside the program to interact with the db
  - DML directly on the db via adhoc query
  - DML -> SQL

Data model, DB architectures and DBMS Architecture

- Data Model

  - Data structures
  - Constraints
  - Operations
  - Keys and IDs
  - Integrity and consistency
  - null values
  - surrogates

- Data model is not the same as a MODEL of DATA!!
- Entity Relationship model
- Relational model
- hierarchial model
- no. of cols in a table is also called `degree` of the table
- schema stable over time; not expected to change; data is expected to change
- constraints express rules that cannot be expresssed by the data struct.
- `Operations` support change and retrieval of data
- `Keys` are uniqueness constraints
- Integrity and consistency; Inconsitency is bad data in relational tables
- Null values (unknowns)
- Surrogates - Things and names (names of things!)
  - name may change over time, Address may change over time
  - Name based reprn.
  - _surrogates are system generated unique internal identifiers_;_immutable_;_repr a real world entity_
- `Partial keys` - The partial Key of the weak entity set is also known as a discriminator

DB Architecture:

- ANSI/SPARC 3-level DB => External, Conceptual, and Internal

  - Schema / Data - we query against a schema which will being back results ie. data!!
  - Schema > internal Schema > Data
  - External schema <-> conceptual schema <->> Internal schema >> Data
  - Finally:

  ```
    External Schema (Use of data) (Views)
       |
   Conceptual Schema (MEaning of data) (Table)
       |
   Internal SChema (Storage of data) (Index)
       |
   Database
  ```

- Conceptual Schema

  - conceptually relevant , general and time-invariant structural aspects
  - This is what the user application sees. (The columns of a table )

- External Schema (SQL VIEWS)

  - this is virutal views, made up of the columns exposed int he conceptual schema

- Internal Schema (this is index)

  - desc. how the info in the conceptual schema is physically repr. to provide best perf.
  - Add an index to the freq. used and queried cols. `B+ Trees`

- Data independence:

  - Physical
    - line is between the conceptual layer and the physical - Index changes, OOPs reference.
  - Logical
    - Line betwn external and conceptual (View is impacted if table is changed)

- DB framwork

  - Schema compiler
  - Query transformer
  - Metadata database -> contains the info about external, conceptual, internal schemas (is inside Schema compiler layer)
  - User > Conceptual/External via an interface called SQL > Internal/Conceptual (What index to use)> Storage/internal (where is it stored)> Data (OS)

- Metadata is essential for making eveythin happen in a DB

- System metadata: Where is my data, how did it change, how is it stored, how is it mapped, who owns data, who can acess, usage history, stats
- Business metadata: where is it available, located, mean, access, predefined reports, queries, how current the data is

- System metadata -> DATABASE
- Business metadata -> Data warehouse

---

### Methodology

- Ellipse repr. task
- Block repr. interface/component/Document
- solid line - Information flow (not control flow)
- Dotted line - system boundary
- DONT connect Doc to Doc, Task to Task
- IFD - Info. flow diagram ; connected document/UI with task and DB

### Extended Entity relationship models

- Entity type - Time invarying - USER is an example; must be unique in the DB
  - Single value prop. (email, password)- lexical, visible, audible, things that name other things
  - Identifying prop; atmost one identified entity
  - Composite prop; made up of many - `Name >> First name + last name`
  - Multi value prop; `1:M` Eg. interests - Car, bus,etc; Repn. but double line
- Relationship type

  - 1:1; Partial functions because not all keys from tab1 may be mapped to tab2
  - 1:M; Partial function
  - Mandatory 1:1; all child table rows are mapped to a parent; but child less parent can exists; Total function
  - N:M; No function here just a relnship
  - **ATTN!! for 1:1 >> it's atmost 1.. meaning 0, 1**
  - **ATTN!! for 1:M >> it's atmost M.. meaning 0, 1 or more**
  - N-ary relation; (like binary.. N-ary) [User in a team (1:1) can participate in N events]

- Identifying relationships/weak entity types (`review section 3.5`)

  - diamonds with double lines

- Recursive reln. type

  - maps to itself
  - employee, manager concept

- Supertypes and subtypes

  - `is-a` relationship type
  - `d` disjoint - user can't be male and female at the same time
  - `o` overlap - user can be regualar and admin at the same time

- Supertypes and subtypes inheritance

  - Same as OOPS class inheritance

- Union Entity type

- Relationship are repn. by a diamond

  - relationship can have attributes

- What can the EER do? (abstraction)

  - Classifcation (Entity types)
  - Aggregation (Does not readily support!!)
  - Generalization (Super / Sub types)

- What is the result of a Query?
- Data model, constraints and ops.
- Properties are usually coming out a DB model
- Query language needs to be closed!!

All commercial DB products are relational!!

### Relational Databases

- Data Structures, constraints and operations
- Operations

  - Algebra
  - Calculus
    - Tuple calculus (SQL)
    - Domain calculus

- `Domain` D, is a set of atmoic values (Values w/o meaning) (a type)| `Table Column TYPE [VARCHAR, NUMERIC...]`
- `Reln.` R is a subset of the set of ordered n-tuples
- `attribute`, A is a unique name given to ta domain in a relation helping us interpret domain values. | `Column NAME`
- `Degree` - number of columns in that table
- `Cardinality` - meaure of different values
- `Tuples` - Rows

- Constraints
  - Primary
  - Entity
  - Referential

---

Feb 3 2024:

### Methodology II - Specification

**Use attribute name**

- uniquely identified by email address
- valid email and password combination to log in
- Always use `names` from the document in the EER digram
- Model of reality, reality represented by the document(Requirement)
- subtypes of an type; `users and admin users`
- `must` mandatory relationship
- `either` disjoint (d) can't be both
- `unique` identifying attr
- `multi-value` 1:M ; Regular user : SchoolS; double line border
- `underlined property`: Primary key/uniquely identifies

### 7.EER Mapping

- Summarized the entire flow with disjoint, multiple values, 1:M, 1:1, N:M, primary keys, composite keys

### 8.Reading EER diagrams

- Represent EER in a text based description from the EER diagram

### 9. Data formats - beg, streal and borrow

- if someone has spent time and build something, why re-invent.. reuse.

### 10.Constraints

- `must be null` `until`
- `cannot be`
- `can only`
- Data format constraints.. MM-DD-YYYY
- constraints that can be expressed in the EER diag.

### 11. Task decomposition

- Single task vs decomposed
- Riles of Thumb:
  - Lookup vs insert/delete/update.. DDl vs DML - `different DB locks`
  - How many schema construct are involved? - `many DB locks`
  - Are enabling conditions consistent across tasks? - `scheduling`
  - Are frequecnies consistnet across tasks? - `index only whats needed`
  - Is consistency essential? - `ACID`
  - Parent task control needed to control the child tasks - `driver/worker`

---

### 12. Webapps vs Tradidtional apps

Web:

- almost stateless; must have some sate
- click stream history
- beginning to be more like traditional apps

Traditional-apps:

- easy to manage local state
- colelct all changes befor submitting to DB
- better support for ACID

### 13. Task decomposition hints.

- looks up needed (Read only)
- consistency needs (concurrent updates)
- task break up
- determine parent task
- determine order of execution
- determine list of values to show in drop downs
- determine frequency of the operation(s)
- determine schema involved
- Determine the sequence of operations in a task

### 14. Abstract code

- based on the mocks, arrive at a data/control flow > abstract pseudo code/flow
- no formal syntax
- `BOLD UNdERLINE` - Task defn.
- `BOLD` - Task call
- `Italics` - Button name

---

## EXAM2

```
Exam 2:
=======
Relational algebra and calculus, EER mapping	5, 8, 9

EER Relational Mapping

Relational Query Languages: Algebra & Calculus
```
